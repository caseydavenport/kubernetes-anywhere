{
    "apiVersion": "extensions/v1beta1",
    "kind": "Deployment",
    "metadata": {
        "name": "calico-policy-controller",
        "namespace": "kube-system",
        "labels": {
            "k8s-app": "calico-policy"
        }
    },
    "spec": {
        "replicas": 1,
        "strategy": {
            "type": "Recreate"
        },
        "template": {
            "metadata": {
                "name": "calico-policy-controller",
                "namespace": "kube-system",
                "labels": {
                    "k8s-app": "calico-policy-controller"
                },
                "annotations": {
                    "scheduler.alpha.kubernetes.io/critical-pod": ""
                }
            },
            "spec": {
                "hostNetwork": true,
                "tolerations": [
                    {
                        "key": "node-role.kubernetes.io/master",
                        "effect": "NoSchedule"
                    }
                ],
                "serviceAccountName": "calico-policy-controller",
                "containers": [
                    {
                        "name": "calico-policy-controller",
                        "image": "quay.io/calico/kube-policy-controller:v0.5.4",
                        "env": [
                            {
                                "name": "ETCD_ENDPOINTS",
                                "value": "http://10.96.232.136:6666"
                            },
                            {
                                "name": "K8S_API",
                                "value": "https://kubernetes.default:443"
                            },
                            {
                                "name": "CONFIGURE_ETC_HOSTS",
                                "value": "true"
                            }
                        ]
                    }
                ]
            }
        }
    }
}
